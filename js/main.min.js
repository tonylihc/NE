"use strict";function imgRoll(){function e(){i(),myMedia.on("resize",function(){if(myMedia.clientWidth>=r){if(t(),5==o)return;o=5,n.removeChild(n.firstElementChild)}else n.scrollLeft=0,i()})}function i(){void 0==l&&(l=setInterval(function(){5==o&&(o++,n.appendChild(n.firstElementChild.cloneNode())),n.scrollLeft>=325&&(o--,n.removeChild(n.firstElementChild),n.scrollLeft=0),n.scrollLeft++},25))}function t(){clearInterval(l),l=void 0}var l,n=document.querySelector(".i-wrap"),r=1620,o=5;return{init:e}}
"use strict";function topNav(){function e(){i=document.querySelector(".h-logo"),getCookie().loginSuc&&1==getCookie().loginSuc?t():n()}function t(){d&&(d.parentNode.removeChild(d),l.parentNode.removeChild(l),d=void 0,l=void 0);var e='<div class="cursor-pointer h-checked"><i class="icon-check"></i><span>已关注</span><a class="black sub-font">取消</a></div>';a=html2node(e),i.appendChild(a),a.addEventListener("click",function(){removeCookie("loginSuc","/","localhost"),n()})}function n(){a&&(a.parentNode.removeChild(a),a=void 0);var e='<div class="h-check cursor-pointer"><i class="icon-plus"></i><span>关注</span></div>',t='<span class="sub-font">粉丝<span class="sub-font">45</span></span>';d=html2node(e),l=html2node(t),i.appendChild(d),i.appendChild(l),d.addEventListener("click",o)}function o(){addClass(document.body,"overflow-hidden");var e='\n\t\t<div class="l-bg animated">\n\t\t\t<div class="l-wrap">\n\t\t\t\t<i class="icon-close right cursor-pointer"></i>\n\t\t\t\t<form id="login-form">\n\t\t\t\t\t<legend>登录网易云课堂</legend>\n\t\t\t\t\t<p><input id="account" type="text" placeholder="账号" required></p>\n\t\t\t\t\t<p><input id="pwd" type="password" placeholder="密码" required></p>\n\t\t\t\t\t<p><button id="login-btn" >登录</button></p>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>',n=html2node(e),o=n.querySelector(".l-wrap i"),i=n.querySelector("#login-form"),d=n.querySelector("#account"),a=n.querySelector("#pwd"),l=n.querySelector("#login-btn");document.body.appendChild(n),animateClass(n,"fadeIn"),o.addEventListener("click",function(){animateClass(n,"fadeOut",function(){n.parentNode.removeChild(n),delClass(document.body,"overflow-hidden")})}),i.addEventListener("submit",function(e){e.preventDefault();var o=new Ajax({data:{userName:md5(d.value),password:md5(a.value)},url:"http://study.163.com/webDev/login.htm",method:"get",async:!0,contentType:""});o.on("ok",function(){if(1==o.result){animateClass(n,"fadeOut",function(){n.parentNode.removeChild(n),delClass(document.body,"overflow-hidden")}),t();var e=new Date;e.setDate(e.getDate()+1),setCookie("loginSuc","1",e)}else a.value="",l.innerHTML="验证失败"}),o.on("notOk",function(){l.innerHTML="连接失败"}),o.get()})}var i,d,a,l;return{init:e}}
"use strict";function hotList(){function t(t){if(!(t>=a.length)){r.innerHTML="";for(var e=0;e<10;e++)r.appendChild(a[(t-e)%a.length]);o=t}}function e(){var t=r.lastElementChild,e=r.firstElementChild,n=r.insertBefore(a[++o%a.length],e);animateClass(t,"fadeOutDown",function(){r.removeChild(t)}),animateClass(n,"fadeInDown")}function n(){void 0==i&&(i=setInterval(e,5e3))}function s(){clearInterval(i),i=void 0}var a=[],o=9,r=document.querySelector(".hot-courses-wrap"),i=void 0,l=new Ajax({data:"",url:"http://study.163.com/webDev/hotcouresByCategory.htm",method:"get",async:!0,contentType:""});l.on("ok",function(){l.result=JSON.parse(l.result);for(var e=0;e<l.result.length;e++){var o='\n\t\t\t<div class="hot-courses cursor-pointer animated">\n\t\t\t\t<a href="'+l.result[e].providerLink+'" target="_blank">\n\t\t\t\t\t<i class="hotC-img left" style="background-image: url('+l.result[e].smallPhotoUrl+');"></i>\n\t\t\t\t\t<h4 class="ellipsis">'+l.result[e].name+'</h4>\n\t\t\t\t\t<p class="m-card-num aside-num"><i class="icon-person aside-icon"></i><span class="sub-font">'+l.result[e].learnerCount+"</span></p>\n\t\t\t\t</a>\n\t\t\t</div>\t";a.push(html2node(o))}t(9),n(),r.addEventListener("mouseover",function(){s(),r.addEventListener("mouseout",n)})}),l.get()}
"use strict";function mainInit(){myMedia=new MediaQuery({xm:"",sm:"",md:1,lg:1205}),myMedia.init(),myMedia.on("reMode",function(i){"md"==i?psize=15:"lg"==i&&(psize=20),mainCards().update()}),myMedia.on("resize",function(i){console.log(i,this.currentMode)}),"md"==myMedia.currentMode?psize=15:"lg"==myMedia.currentMode&&(psize=20),mainCards().init(),mainCards().update(),topNav().init(),notify().init({content:"网易云课堂微专业, 帮助你掌握专业技能, 令你求职或加薪多一份独特优势 ! ",url:"#"}),imgRoll().init(),myslider().init(),showVideo().init(),hotList()}var pageNo=1,type=10,psize=10,myMedia;DOMReady(mainInit);
"use strict";function mainCards(){function t(){r.addEventListener("click",e),a.addEventListener("click",s)}function e(t){if(t.preventDefault(),10==type){if("产品设计"==t.target.innerHTML)return;type=20,addClass(t.target,"select"),delClass(t.target.previousElementSibling,"select"),n()}else{if("编程语言"==t.target.innerHTML)return;type=10,addClass(t.target,"select"),delClass(t.target.nextElementSibling,"select"),n()}}function s(t){var e=t.target.parentNode.querySelector(".select");if("LI"==t.target.tagName){var s=parseInt(t.target.innerHTML,10);if(pageNo==s)return;delClass(e,"select"),pageNo=s,addClass(t.target,"select"),n()}if("SPAN"==t.target.tagName)if("&lt;"==t.target.innerHTML){if(1==pageNo)return;pageNo--,delClass(e,"select"),addClass(e.previousElementSibling,"select"),n()}else if("&gt;"==t.target.innerHTML){if(8==pageNo)return;pageNo++,delClass(e,"select"),addClass(e.nextElementSibling,"select"),n()}}function n(){var t=new Ajax({data:{pageNo:pageNo,psize:psize,type:type},url:"http://study.163.com/webDev/couresByCategory.htm",method:"get",async:!0,contentType:""});t.on("ok",function(){var e=JSON.parse(t.result);i.innerHTML="";for(var s=0;s<e.list.length;s++){var n,r='\n\t<div class="m-card-wrap">\n\t\t<section class="cursor-pointer">\n\t\t\t<i class="img" style="background-image: url('+e.list[s].middlePhotoUrl+')"></i>\n\t\t\t<h4 class="title ellipsis">'+e.list[s].name+'</h4>\n\t\t\t<p class="num num-on-hover"><i class="icon-person"></i><span class="sub-font">'+e.list[s].learnerCount+' 人在学</span></p>\n\t\t\t<p class="provider prov-off-hover sub-font">'+e.list[s].provider+'</p>\n\t\t\t<p class="provider prov-on-hover sub-font">发布者: '+e.list[s].provider+"</p>",a='\t\t\n\t\t\t<p class="category sub-font">分类: '+e.list[s].categoryName+'</p>\n\t\t\t<p class="num num-off-hover"><i class="icon-person"></i><span class="sub-font">'+e.list[s].learnerCount+"</span></p>",l='\t\t\n\t\t\t<p class="category sub-font">分类: 全部课程</p>\n\t\t\t<p class="num num-off-hover"><i class="icon-person"></i><span class="sub-font">'+e.list[s].learnerCount+"</span></p>",o='\n\t\t\t<p class="price">¥ '+e.list[s].price.toFixed(2)+"</p>",c='\n\t\t\t<p class="price">免费</p>',p='\n\t\t\t\t<div class="description" title="'+e.list[s].description+'"><p>'+e.list[s].description+"</p></div>\n\t\t</section>\n\t</div>\n\t\t";n=e.list[s].categoryName?0!=e.list[s].price?r+a+o+p:r+a+c+p:0!=e.list[s].price?r+l+o+p:r+l+c+p;var u=html2node(n);i.appendChild(u)}}),t.on("notOk",function(){console.log(t.result)}),t.get()}var r=document.querySelector(".m-tab"),a=document.querySelector(".m-page-nav"),i=document.querySelector(".m-cards");return{init:t,update:n}}
"use strict";function Ajax(t){t=t||{},extend(this,t)}function MediaQuery(t){this.currentMode="",this.clientWidth=0,t=t||{},extend(this,t)}function extend(t,e){for(var n in e)"undefined"==typeof t[n]&&(t[n]=e[n]);return t}function addClass(t,e){var n=t.className||"";(" "+n+" ").indexOf(" "+e+" ")===-1&&(t.className=n?n+" "+e:e)}function delClass(t,e){var n=t.className||"";t.className=(" "+n+" ").replace(" "+e+" "," ").trim()}function html2node(t){var e=document.createElement("div");return e.innerHTML=t,e.children[0]}function getCookie(){var t={},e=document.cookie;if(""===e)return t;for(var n=e.split("; "),i=0;i<n.length;i++){var o=n[i],r=o.indexOf("="),d=o.substring(0,r);d=decodeURIComponent(d);var s=o.substring(r+1);s=decodeURIComponent(s),t[d]=s}return t}function setCookie(t,e,n,i,o,r){var d=encodeURIComponent(t)+"="+encodeURIComponent(e);n&&(d+="; expires="+n.toGMTString()),i&&(d+="; path="+i),o&&(d+="; domain="+o),r&&(d+="; secure="+r),document.cookie=d}function removeCookie(t,e,n){document.cookie=t+"=; path="+e+"; domain="+n+"; max-age=0"}function IEContentLoaded(t,e){var n=t.document,i=!1,o=function(){i||(i=!0,e())};!function r(){try{n.documentElement.doScroll("left")}catch(t){return void setTimeout(r,50)}o()}(),n.onreadystatechange=function(){"complete"==n.readyState&&(n.onreadystatechange=null,o())}}function DOMReady(t){document.addEventListener?(document.addEventListener("DOMContentLoaded",function(){t&&t()},!1),document.removeEventListener("DOMContentLoaded",t,!0)):IEContentLoaded(window,t)}var emitter={on:function(t,e){var n=this._handles||(this._handles={}),i=n[t]||(n[t]=[]);return i.push(e),this},off:function(t,e){if(!t)return this;this._handles||(this._handles={});var n,i=this._handles;if(n=i[t]){if(!e)return i[t]=[],this;for(var o=0,r=n.length;o<r;o++)if(e===n[o])return n.splice(o,1),this}return this},emit:function(t){var e,n=[].slice.call(arguments,1),i=this._handles;if(!i||!(e=i[t]))return this;for(var o=0,r=e.length;o<r;o++)e[o].apply(this,n);return this}};extend(Ajax.prototype,emitter),extend(Ajax.prototype,{get:function(){function t(t){if(!t)return"";var e=[];for(var n in t)if(t.hasOwnProperty(n)&&"function"!=typeof t[n]){var i=t[n].toString();n=decodeURIComponent(n),e.push(n+"="+i)}return e.join("&")}var e=new XMLHttpRequest;e.father=this,e.onreadystatechange=function(){4==e.readyState&&(e.status>=200&&e.status<300||304==e.status?(e.father.result=e.responseText,e.father.emit("ok")):(e.father.result="failed with code: "+e.status,e.father.emit("notOk")))},this.contentType&&e.setRequestHeader("Content-Type",this.contentType),"get"==this.method&&(e.open(this.method,this.url+"?"+t(this.data),this.async),e.send(null)),"post"==this.method&&(e.open(this.method,this.url,this.async),e.send(t(this.data))),e.onreadystatechange()}}),extend(MediaQuery.prototype,emitter),extend(MediaQuery.prototype,{init:function(){var t=this;this.clientWidth=document.body.clientWidth,void 0!=this.lg&&this.clientWidth>=this.lg?this.currentMode="lg":void 0!=this.md&&this.clientWidth>=this.md?this.currentMode="md":void 0!=this.sm&&this.clientWidth>=this.sm?this.currentMode="sm":this.currentMode="xm",window.addEventListener("resize",function(){setTimeout(function(){return t.clientWidth=document.body.clientWidth,t.emit("resize",t.clientWidth),t.lg&&t.clientWidth>=t.lg?void("lg"!=t.currentMode&&(t.currentMode="lg",t.emit("reMode","lg"))):t.md&&t.clientWidth>=t.md?void("md"!=t.currentMode&&(t.currentMode="md",t.emit("reMode","md"))):t.sm&&t.clientWidth>=t.sm?void("sm"!=t.currentMode&&(t.currentMode="sm",t.emit("reMode","sm"))):"xm"!=t.currentMode?(t.currentMode="xm",void t.emit("reMode","xm")):void 0},20)})},show:function(){console.log(this.clientWidth,this.currentMode)}});
"use strict";function showVideo(){function e(){var e=document.querySelector(".video-img");e.addEventListener("click",t)}function t(){addClass(document.body,"overflow-hidden");var e='\n\t<div class="video-bg animated">\n\t\t<div class="media-wrap">\n\t\t\t<i class="icon-close right cursor-pointer"></i>\n\t\t\t<h3>请观看下面的视频</h3>\n\t\t\t<video src="http://mov.bn.netease.com/open-movie/nos/mp4/2014/12/30/SADQ86F5S_shd.mp4" controls="controls" autoplay></video>\n\t\t</div>\n\t</div>',t=html2node(e);document.body.appendChild(t),animateClass(t,"fadeIn");var n=t.querySelector(".icon-close");n.addEventListener("click",function(){animateClass(t,"fadeOut",function(){t.parentNode.removeChild(t),delClass(document.body,"overflow-hidden")})})}return{init:e}}
"use strict";function myslider(){function e(){o=0,t(),d.addEventListener("mouseenter",n),d.addEventListener("mouseout",t)}function t(){void 0==u&&(u=setInterval(s,5e3))}function n(){clearInterval(u),u=void 0}function r(e){if(!(e>c&&e<0))for(var t=0;t<=c;t++)t==e?(addClass(i[t],"s-show"),addClass(l[t],"s-current")):(delClass(i[t],"s-show"),delClass(l[t],"s-current"))}function s(){o>=c?o=0:o++,r(o)}var o,u,c=2,i=document.querySelectorAll(".s-wrap i"),l=document.querySelectorAll(".s-count i"),d=document.querySelector(".s-wrap");return{init:e}}
"use strict";function notify(){function t(t){e=t.content||"通知内容, content ",i=t.url||"#",getCookie().checked&&1==getCookie().checked||n()}function n(){function t(){a.parentNode.removeChild(a);var t=new Date;t.setDate(t.getDate()+1),setCookie("checked","1",t)}var n='\n\t\t<div class="top-notify animated min-width">\n\t\t\t<div class="set-width">\n\t\t\t\t<span>'+e+'</span>\n\t\t\t\t<a href="'+i+'" target="_blank"> 立即查看 &gt;</a>\n\t\t\t\t<span class="right t-click cursor-pointer"><i class="icon-close"></i><a class="black">不再提醒</a>\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t</div>\n\t\t',a=html2node(n),c=a.querySelector(".t-click");document.body.appendChild(a),c.addEventListener("click",function(){animateClass(a,"fadeOutUp",t)})}var e,i;return{init:t}}